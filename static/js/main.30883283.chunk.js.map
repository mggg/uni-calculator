{"version":3,"sources":["formq.js","App.js","serviceWorker.js","index.js"],"names":["FormQ","props","className","style","display","justifyContent","htmlFor","id","label","undefined","percent","type","min","max","value","Math","round","source","onChange","e","pct","target","lang","counts","App","state","enrollment","beds","fallStudents","normalFaculty","fallFaculty","normalStaff","contractStaff","fallStaff","colleges","updateRawVal","bind","prefill","fetch","then","res","text","data","c2","name","rows","trim","split","headers","slice","forEach","r","cols","push","indexOf","dorms","sort","a","b","setState","key","origVal","ob","this","college_index","college","textAlign","map","c","i","val","background","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.30883283.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function FormQ(props) {\n  return <form className=\"form-inline\">\n    <div className=\"form-group\" style={{display: 'flex', justifyContent: 'space-between'}}>\n      <label htmlFor={props.id}>{props.label}</label>\n      <div style={{display: 'flex'}}>\n        {props.percent !== undefined ? <div className=\"percent-block\">\n          <input\n            type=\"number\"\n            className=\"form-control percent-readout\"\n            min=\"0\"\n            max=\"100\"\n            value={Math.round(props.value / props.source * 100)}\n            onChange={e => {\n              let pct = Math.min(100, Math.max(0, e.target.value * 1));\n              props.onChange(pct / 100 * props.source);\n            }}\n          />\n          <div className=\"input-group-append\">\n            <span className=\"input-group-text\">%</span>\n          </div>\n        </div> : null}\n        <input\n          type=\"number\"\n          lang=\"en\"\n          className=\"form-control student-block\"\n          value={Math.round(props.value)}\n          onChange={e => props.onChange(e.target.value)}\n        />\n        <div className=\"input-group-append\">\n          <span className=\"input-group-text\">{props.counts}</span>\n        </div>\n      </div>\n    </div>\n  </form>\n}\n","import React from 'react';\nimport FormQ from './formq';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      enrollment: 1000,\n      beds: 1000,\n      fallStudents: 100,\n\n      normalFaculty: 100,\n      fallFaculty: 80,\n\n      normalStaff: 50,\n      contractStaff: 20,\n      fallStaff: 70,\n      colleges: []\n    }\n\n    this.updateRawVal = this.updateRawVal.bind(this);\n    this.prefill = this.prefill.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"./college_vals.csv\").then(res => res.text()).then((data) => {\n      let c2 = [{name: \" Prefill\" }],\n          rows = data.trim().split(\"\\n\"),\n          headers = rows[0].trim().split(\",\");\n      rows = rows.slice(1);\n\n      rows.forEach((r) => {\n        let cols = r.split(\",\");\n        // \"Name,,Quadrant,Carnegie Classification,Total enrollment,Undergraduate enrollment,Graduate enrollment,Endowment per full-time equivalent student,Dorm capacity\"\n        c2.push({\n          name: cols[headers.indexOf(\"Name\")],\n          enrollment: cols[headers.indexOf(\"Total enrollment\")] * 1,\n          dorms: cols[headers.indexOf(\"Dorm capacity\")] * 1\n        });\n      });\n      c2.sort((a, b) => {\n        return a.name > b.name ? 1 : -1;\n      });\n\n      this.setState({ colleges: c2 });\n    });\n  }\n\n  updateRawVal(key, origVal) {\n    let ob = {};\n    ob[key] = origVal;\n    this.setState(ob);\n  }\n\n  prefill(college_index) {\n    let college = this.state.colleges[college_index];\n    this.setState({\n      enrollment: college.enrollment,\n      fallStudents: college.enrollment,\n      beds: college.dorms,      \n    });\n  }\n\n  render() {\n    return (<div className=\"container\">\n      <div className=\"col-sm-12\">\n        <div style={{textAlign: 'center' }}>\n          <nav className=\"navbar navbar-dark bg-primary\">\n            <h2>COVID-19 Testing Calculator</h2>\n          </nav>\n          <section>\n            <h3>Description</h3>\n            <p>This calculator provides cost estimates for university COVID testing plans.</p>\n          </section>\n          <section>\n            <h3>University</h3>\n            <select onChange={e => this.prefill(e.target.value)}>\n              {this.state.colleges.map((c, i) => {\n                return <option key={i} value={i}>\n                  {c.name}\n                </option>\n              })}\n            </select>\n          </section>\n        </div>\n\n        <div className=\"qSection\">\n          <h4>Students</h4>\n          <FormQ\n            id=\"enrollment\"\n            label=\"Normal enrollment\"\n            value={this.state.enrollment}\n            counts=\"students\"\n            onChange={val => this.updateRawVal('enrollment', val)}\n          />\n          <FormQ\n            id=\"dorms\"\n            label=\"Dormitory capacity\"\n            value={this.state.beds}\n            counts=\"beds\"\n            onChange={val => this.updateRawVal('beds', val)}\n          />\n          <FormQ\n            id=\"fall\"\n            label=\"Projected Fall enrollment\"\n            value={this.state.fallStudents}\n            source={this.state.enrollment}\n            counts=\"students\"\n            percent=\"%\"\n            onChange={val => this.updateRawVal('fallStudents', val)}\n          />\n        </div>\n\n        <div className=\"qSection\">\n          <h4>Faculty</h4>\n          <FormQ\n            id=\"faculty\"\n            label=\"Normal faculty\"\n            value={this.state.normalFaculty}\n            counts=\"members\"\n            onChange={val => this.updateRawVal('normalFaculty', val)}\n          />\n          <FormQ\n            id=\"studentfacing\"\n            label=\"Projected student-facing faculty in Fall\"\n            value={this.state.fallFaculty}\n            source={this.state.normalFaculty}\n            counts=\"members\"\n            percent=\"%\"\n            onChange={val => this.updateRawVal('fallFaculty', val)}\n          />\n        </div>\n\n        <div className=\"qSection\">\n          <h4>Staff</h4>\n          <FormQ\n            id=\"staff\"\n            label=\"On-campus staff, university-employed\"\n            value={this.state.normalStaff}\n            counts=\"members\"\n            onChange={val => this.updateRawVal('normalStaff', val)}\n          />\n          <FormQ\n            id=\"contract\"\n            label=\"On-campus staff, contract\"\n            value={this.state.contractStaff}\n            counts=\"members\"\n            onChange={val => this.updateRawVal('contractStaff', val)}\n          />\n          <FormQ\n            id=\"projectstaff\"\n            label=\"Projected on-campus staff in Fall\"\n            value={this.state.fallStaff}\n            source={this.state.normalStaff + this.state.contractStaff}\n            counts=\"members\"\n            percent=\"%\"\n            onChange={val => this.updateRawVal('fallStaff', val)}\n          />\n        </div>\n\n        <div>\n          <h4>Testing</h4>\n          <div>\n            High-testing cohort\n          </div>\n          <div>\n            Medium-testing cohort\n          </div>\n          <div>\n            Cost per test\n          </div>\n          <div>\n            Semester length\n          </div>\n        </div>\n\n        <div style={{background: '#eee'}}>\n          <h4>Outcomes</h4>\n          Total cost\n          <br/>\n          Cost per capita\n        </div>\n\n      </div>\n    </div>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}